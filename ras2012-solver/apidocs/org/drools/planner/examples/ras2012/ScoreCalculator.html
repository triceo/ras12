<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="cs">
<head>
<!-- Generated by javadoc (version 1.7.0_05-icedtea) on Tue Aug 14 07:25:38 CEST 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>ScoreCalculator (RAS2012: The Solver 1.0.Final API)</title>
<meta name="date" content="2012-08-14">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ScoreCalculator (RAS2012: The Solver 1.0.Final API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ScoreCalculator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/drools/planner/examples/ras2012/ProblemSolution.html" title="class in org.drools.planner.examples.ras2012"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/drools/planner/examples/ras2012/Visualizable.html" title="class in org.drools.planner.examples.ras2012"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/drools/planner/examples/ras2012/ScoreCalculator.html" target="_top">Frames</a></li>
<li><a href="ScoreCalculator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.drools.planner.examples.ras2012</div>
<h2 title="Class ScoreCalculator" class="title">Class ScoreCalculator</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.drools.planner.core.score.director.incremental.AbstractIncrementalScoreCalculator&lt;<a href="../../../../../org/drools/planner/examples/ras2012/ProblemSolution.html" title="class in org.drools.planner.examples.ras2012">ProblemSolution</a>&gt;</li>
<li>
<ul class="inheritance">
<li>org.drools.planner.examples.ras2012.ScoreCalculator</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>org.drools.planner.core.score.director.incremental.IncrementalScoreCalculator&lt;<a href="../../../../../org/drools/planner/examples/ras2012/ProblemSolution.html" title="class in org.drools.planner.examples.ras2012">ProblemSolution</a>&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">ScoreCalculator</span>
extends org.drools.planner.core.score.director.incremental.AbstractIncrementalScoreCalculator&lt;<a href="../../../../../org/drools/planner/examples/ras2012/ProblemSolution.html" title="class in org.drools.planner.examples.ras2012">ProblemSolution</a>&gt;</pre>
<div class="block"><p>
 A class that converts a solution into a score, in order to be able to rank various solutions based on their efficiency. For
 performance reasons, this class implements incremental score calculation mechanisms. The important bits:
 </p>
 
 <ul>
 <li>When <a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#resetWorkingSolution(org.drools.planner.examples.ras2012.ProblemSolution)"><code>resetWorkingSolution(ProblemSolution)</code></a> is called, this class is reset. No deltas are kept, we're starting
 fresh.</li>
 <li>Call to any of the <code>after...</code> or <code>before...</code> methods lets us know that some entity has changed.
 Data associated with that entity need to be re-calculated. Cached data from other entities won't be touched.</li>
 <li>When <a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#calculateScore()"><code>calculateScore()</code></a> is called, all that data is summed up and the result is the score for that particular
 solution.</li>
 </ul>
 
 <p>
 Each score has two parts, a hard score and a soft score. Hard score, if negative, means that there are some constraints
 broken with which the solution doesn't make sense. These constraints are entry times (see
 <a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#recalculateEntries(org.drools.planner.examples.ras2012.model.ItineraryAssignment)"><code>recalculateEntries(ItineraryAssignment)</code></a>) - the problem definition requires that train enters an arc no sooner than 5
 minutes after it's been cleared by the previous train occupying it.
 </p>
 
 <p>
 Also a part of hard score is the number of unused sidings. Every time a train takes a siding where it doesn't stop, it is
 penalized.
 </p>
 
 <p>
 Soft constraints, those that only affect score quality and not its feasibility, are all defined by the problem. They are:
 </p>
 
 <ul>
 <li>Train's delay on the route (see <a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#getDelayPenalty(org.drools.planner.examples.ras2012.model.Itinerary)"><code>getDelayPenalty(Itinerary)</code></a>),</li>
 <li>terminal want time (see <a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#getWantTimePenalty(org.drools.planner.examples.ras2012.model.Itinerary)"><code>getWantTimePenalty(Itinerary)</code></a>),</li>
 <li>schedule adherence (see <a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#getScheduleAdherencePenalty(org.drools.planner.examples.ras2012.model.Itinerary)"><code>getScheduleAdherencePenalty(Itinerary)</code></a>)</li>
 <li>and time spent on unpreferred tracks (see <a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#getUnpreferredTracksPenalty(org.drools.planner.examples.ras2012.model.Itinerary)"><code>getUnpreferredTracksPenalty(Itinerary)</code></a>).</li>
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#ScoreCalculator()">ScoreCalculator</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#afterAllVariablesChanged(java.lang.Object)">afterAllVariablesChanged</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#afterEntityAdded(java.lang.Object)">afterEntityAdded</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#afterEntityRemoved(java.lang.Object)">afterEntityRemoved</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#afterVariableChanged(java.lang.Object, java.lang.String)">afterVariableChanged</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity,
                    <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;variableName)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#beforeAllVariablesChanged(java.lang.Object)">beforeAllVariablesChanged</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#beforeEntityAdded(java.lang.Object)">beforeEntityAdded</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#beforeEntityRemoved(java.lang.Object)">beforeEntityRemoved</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#beforeVariableChanged(java.lang.Object, java.lang.String)">beforeVariableChanged</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity,
                     <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;variableName)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>org.drools.planner.core.score.buildin.hardandsoft.HardAndSoftScore</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#calculateScore()">calculateScore</a></strong>()</code>
<div class="block">Calculate the score of the solution after the increments have been resolved.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#getDelayPenalty(org.drools.planner.examples.ras2012.model.Itinerary)">getDelayPenalty</a></strong>(<a href="../../../../../org/drools/planner/examples/ras2012/model/Itinerary.html" title="class in org.drools.planner.examples.ras2012.model">Itinerary</a>&nbsp;i)</code>
<div class="block">Calculate delay penalty for a given schedule.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#getPenaltyForNoMeetPassOnSidings(org.drools.planner.examples.ras2012.model.Itinerary)">getPenaltyForNoMeetPassOnSidings</a></strong>(<a href="../../../../../org/drools/planner/examples/ras2012/model/Itinerary.html" title="class in org.drools.planner.examples.ras2012.model">Itinerary</a>&nbsp;i)</code>
<div class="block">Find the number of sidings where the train does not wait.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#getScheduleAdherencePenalty(org.drools.planner.examples.ras2012.model.Itinerary)">getScheduleAdherencePenalty</a></strong>(<a href="../../../../../org/drools/planner/examples/ras2012/model/Itinerary.html" title="class in org.drools.planner.examples.ras2012.model">Itinerary</a>&nbsp;i)</code>
<div class="block">Calculate schedule adherence penalty for all nodes on a schedule.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#getScheduleAdherencePenalty(org.drools.planner.examples.ras2012.model.Itinerary, org.drools.planner.examples.ras2012.model.Node)">getScheduleAdherencePenalty</a></strong>(<a href="../../../../../org/drools/planner/examples/ras2012/model/Itinerary.html" title="class in org.drools.planner.examples.ras2012.model">Itinerary</a>&nbsp;i,
                           <a href="../../../../../org/drools/planner/examples/ras2012/model/Node.html" title="class in org.drools.planner.examples.ras2012.model">Node</a>&nbsp;node)</code>
<div class="block">Calculate schedule adherence penalty for a given node on a schedule.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#getUnpreferredTracksPenalty(org.drools.planner.examples.ras2012.model.Itinerary)">getUnpreferredTracksPenalty</a></strong>(<a href="../../../../../org/drools/planner/examples/ras2012/model/Itinerary.html" title="class in org.drools.planner.examples.ras2012.model">Itinerary</a>&nbsp;i)</code>
<div class="block">Calculate a penalty for using unpreferred tracks in a given schedule.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#getWantTimePenalty(org.drools.planner.examples.ras2012.model.Itinerary)">getWantTimePenalty</a></strong>(<a href="../../../../../org/drools/planner/examples/ras2012/model/Itinerary.html" title="class in org.drools.planner.examples.ras2012.model">Itinerary</a>&nbsp;i)</code>
<div class="block">Calculate a want time penalty for a given schedule.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static org.drools.planner.core.score.buildin.hardandsoft.HardAndSoftScore</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#oneTimeCalculation(org.drools.planner.examples.ras2012.ProblemSolution)">oneTimeCalculation</a></strong>(<a href="../../../../../org/drools/planner/examples/ras2012/ProblemSolution.html" title="class in org.drools.planner.examples.ras2012">ProblemSolution</a>&nbsp;solution)</code>
<div class="block">Perform a one-time calculation on a given solution.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/drools/planner/examples/ras2012/ScoreCalculator.html#resetWorkingSolution(org.drools.planner.examples.ras2012.ProblemSolution)">resetWorkingSolution</a></strong>(<a href="../../../../../org/drools/planner/examples/ras2012/ProblemSolution.html" title="class in org.drools.planner.examples.ras2012">ProblemSolution</a>&nbsp;workingSolution)</code>
<div class="block">Prepare the calculator for working on a completely different solution.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.drools.planner.core.score.director.incremental.AbstractIncrementalScoreCalculator">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.drools.planner.core.score.director.incremental.AbstractIncrementalScoreCalculator</h3>
<code>buildScoreCorruptionAnalysis</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ScoreCalculator()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ScoreCalculator</h4>
<pre>public&nbsp;ScoreCalculator()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="oneTimeCalculation(org.drools.planner.examples.ras2012.ProblemSolution)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>oneTimeCalculation</h4>
<pre>public static&nbsp;org.drools.planner.core.score.buildin.hardandsoft.HardAndSoftScore&nbsp;oneTimeCalculation(<a href="../../../../../org/drools/planner/examples/ras2012/ProblemSolution.html" title="class in org.drools.planner.examples.ras2012">ProblemSolution</a>&nbsp;solution)</pre>
<div class="block">Perform a one-time calculation on a given solution. This eliminates the possible side-effects of incremental score
 calculation, resulting in a score that is guaranteed to be correct.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>solution</code> - Solution to calculate the score for.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Score of the given solution.</dd></dl>
</li>
</ul>
<a name="afterAllVariablesChanged(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>afterAllVariablesChanged</h4>
<pre>public&nbsp;void&nbsp;afterAllVariablesChanged(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)</pre>
</li>
</ul>
<a name="afterEntityAdded(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>afterEntityAdded</h4>
<pre>public&nbsp;void&nbsp;afterEntityAdded(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)</pre>
</li>
</ul>
<a name="afterEntityRemoved(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>afterEntityRemoved</h4>
<pre>public&nbsp;void&nbsp;afterEntityRemoved(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)</pre>
</li>
</ul>
<a name="afterVariableChanged(java.lang.Object, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>afterVariableChanged</h4>
<pre>public&nbsp;void&nbsp;afterVariableChanged(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity,
                        <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;variableName)</pre>
</li>
</ul>
<a name="beforeAllVariablesChanged(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beforeAllVariablesChanged</h4>
<pre>public&nbsp;void&nbsp;beforeAllVariablesChanged(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)</pre>
</li>
</ul>
<a name="beforeEntityAdded(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beforeEntityAdded</h4>
<pre>public&nbsp;void&nbsp;beforeEntityAdded(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)</pre>
</li>
</ul>
<a name="beforeEntityRemoved(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beforeEntityRemoved</h4>
<pre>public&nbsp;void&nbsp;beforeEntityRemoved(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)</pre>
</li>
</ul>
<a name="beforeVariableChanged(java.lang.Object, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beforeVariableChanged</h4>
<pre>public&nbsp;void&nbsp;beforeVariableChanged(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity,
                         <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;variableName)</pre>
</li>
</ul>
<a name="calculateScore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateScore</h4>
<pre>public&nbsp;org.drools.planner.core.score.buildin.hardandsoft.HardAndSoftScore&nbsp;calculateScore()</pre>
<div class="block">Calculate the score of the solution after the increments have been resolved. This methods only sums up those increments,
 except in cases where we need to take into account the information from all the trains. These cases are:
 
 <ul>
 <li>Conflicts in occupied arcs are calculated in <code>ConflictRegistry</code>.</li>
 <li>Conflicts in entry times are calculated in <a href="../../../../../org/drools/planner/examples/ras2012/util/EntryRegistry.html" title="class in org.drools.planner.examples.ras2012.util"><code>EntryRegistry</code></a>.</li>
 </ul></div>
</li>
</ul>
<a name="getDelayPenalty(org.drools.planner.examples.ras2012.model.Itinerary)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDelayPenalty</h4>
<pre>public&nbsp;int&nbsp;getDelayPenalty(<a href="../../../../../org/drools/planner/examples/ras2012/model/Itinerary.html" title="class in org.drools.planner.examples.ras2012.model">Itinerary</a>&nbsp;i)</pre>
<div class="block">Calculate delay penalty for a given schedule. The rules for that are defined by the RAS 2012 problem statement.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>i</code> - The schedule in question.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The penalty in dollars.</dd></dl>
</li>
</ul>
<a name="getPenaltyForNoMeetPassOnSidings(org.drools.planner.examples.ras2012.model.Itinerary)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPenaltyForNoMeetPassOnSidings</h4>
<pre>public&nbsp;int&nbsp;getPenaltyForNoMeetPassOnSidings(<a href="../../../../../org/drools/planner/examples/ras2012/model/Itinerary.html" title="class in org.drools.planner.examples.ras2012.model">Itinerary</a>&nbsp;i)</pre>
<div class="block">Find the number of sidings where the train does not wait.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>i</code> - The schedule in question.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The number in question.</dd></dl>
</li>
</ul>
<a name="getScheduleAdherencePenalty(org.drools.planner.examples.ras2012.model.Itinerary)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getScheduleAdherencePenalty</h4>
<pre>public&nbsp;int&nbsp;getScheduleAdherencePenalty(<a href="../../../../../org/drools/planner/examples/ras2012/model/Itinerary.html" title="class in org.drools.planner.examples.ras2012.model">Itinerary</a>&nbsp;i)</pre>
<div class="block">Calculate schedule adherence penalty for all nodes on a schedule. The rules for that are defined by the RAS 2012 problem
 statement.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>i</code> - The schedule in question.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The penalty in dollars.</dd></dl>
</li>
</ul>
<a name="getScheduleAdherencePenalty(org.drools.planner.examples.ras2012.model.Itinerary, org.drools.planner.examples.ras2012.model.Node)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getScheduleAdherencePenalty</h4>
<pre>public&nbsp;int&nbsp;getScheduleAdherencePenalty(<a href="../../../../../org/drools/planner/examples/ras2012/model/Itinerary.html" title="class in org.drools.planner.examples.ras2012.model">Itinerary</a>&nbsp;i,
                              <a href="../../../../../org/drools/planner/examples/ras2012/model/Node.html" title="class in org.drools.planner.examples.ras2012.model">Node</a>&nbsp;node)</pre>
<div class="block">Calculate schedule adherence penalty for a given node on a schedule. The rules for that are defined by the RAS 2012
 problem statement.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>i</code> - The schedule in question.</dd><dd><code>node</code> - The node in question.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The penalty in dollars.</dd></dl>
</li>
</ul>
<a name="getUnpreferredTracksPenalty(org.drools.planner.examples.ras2012.model.Itinerary)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUnpreferredTracksPenalty</h4>
<pre>public&nbsp;int&nbsp;getUnpreferredTracksPenalty(<a href="../../../../../org/drools/planner/examples/ras2012/model/Itinerary.html" title="class in org.drools.planner.examples.ras2012.model">Itinerary</a>&nbsp;i)</pre>
<div class="block">Calculate a penalty for using unpreferred tracks in a given schedule. The rules for that are defined by the RAS 2012
 problem statement.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>i</code> - The schedule in question.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The penalty in dollars.</dd></dl>
</li>
</ul>
<a name="getWantTimePenalty(org.drools.planner.examples.ras2012.model.Itinerary)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWantTimePenalty</h4>
<pre>public&nbsp;int&nbsp;getWantTimePenalty(<a href="../../../../../org/drools/planner/examples/ras2012/model/Itinerary.html" title="class in org.drools.planner.examples.ras2012.model">Itinerary</a>&nbsp;i)</pre>
<div class="block">Calculate a want time penalty for a given schedule. The rules for that are defined by the RAS 2012 problem statement.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>i</code> - The schedule in question.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The penalty in dollars.</dd></dl>
</li>
</ul>
<a name="resetWorkingSolution(org.drools.planner.examples.ras2012.ProblemSolution)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>resetWorkingSolution</h4>
<pre>public&nbsp;void&nbsp;resetWorkingSolution(<a href="../../../../../org/drools/planner/examples/ras2012/ProblemSolution.html" title="class in org.drools.planner.examples.ras2012">ProblemSolution</a>&nbsp;workingSolution)</pre>
<div class="block">Prepare the calculator for working on a completely different solution. Resets all the caches.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>workingSolution</code> - The solution to be used from now on.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ScoreCalculator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/drools/planner/examples/ras2012/ProblemSolution.html" title="class in org.drools.planner.examples.ras2012"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/drools/planner/examples/ras2012/Visualizable.html" title="class in org.drools.planner.examples.ras2012"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/drools/planner/examples/ras2012/ScoreCalculator.html" target="_top">Frames</a></li>
<li><a href="ScoreCalculator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2012. All Rights Reserved.</small></p>
</body>
</html>
